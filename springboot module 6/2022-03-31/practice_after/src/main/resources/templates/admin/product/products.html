<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="/admin/layout/component :: head"/>
<body>
<div th:replace="/component/JQueryToast :: JQueryToast"/>
<div class="container p-4">
    <div>
        <a href="/admin/products/add" class="btn btn-primary">Create new</a>
        <a href="/admin" class="btn btn-primary ml-2">Admin Dashboard</a>
        <a href="/admin/products" class="btn btn-primary ml-2">Refresh</a>
    </div>

    <div class="d-flex">
        <form action="/admin/products/search" class="mt-2 mb-2" style="width: 400px">
            <div class="input-group">
                <button class="btn btn-outline-primary mr-2">Search</button>
                <input type="text" class="form-control" required name="q" placeholder="enter product name...">
            </div>
        </form>
        <form action="/admin/products/filter" class="ml-4 mt-2 mb-2" style="width: 400px">
            <div class="input-group">
                <button class="btn btn-outline-primary mr-2">Filter</button>
                <select class="form-control" id="productCat" name="catId">
                    <option th:each="cat : ${listCats}" th:value="${cat.Id}" th:text="${cat.CatName}"/>
                </select>
            </div>
        </form>
    </div>
    <table class="table table-hover table-bordered text-center">
        <thead class="table-info">
        <tr>
            <th>Product ID</th>
            <th>Product Name</th>
            <th>Old Price</th>
            <th>Price</th>
            <th>Category</th>
            <th>Image</th>
            <th>Quantity</th>
            <th>Status</th>
            <th>Created Date</th>
            <th>Created By</th>
            <th>Action</th>
        </tr>
        </thead>
        <tbody>
            <tr th:each="product : ${listProducts}">
                <td th:text="${product.Id}"/>
                <td th:text="${product.Name}"/>
                <td th:text="${product.OldPrice}"/>
                <td th:text="${product.Price}"/>
                <td th:text="${product.Category.CatName}"/>
                <td><img th:src="${product.Image}" height="50" width="50" alt=""></td>
                <td th:text="${product.Quantity}"></td>
                <td th:text="${product.Status == true ? 'Active' : 'Disable'}">121421</td>
                <td th:text="${product.CreatedDate}"></td>
                <td th:text="${product.CreatedBy.Username}"></td>
                <td>
                    <div>
                        <a th:href="|/admin/products/edit/${product.Id}|" class="btn btn-primary">Edit</a>
                        <a th:href="|/admin/products/delete/${product.Id}|" class="btn btn-danger">Delete</a>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>

</div>

</body>
</html>